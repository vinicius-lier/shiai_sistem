# Generated by Django 5.2.8 on 2025-12-05 05:07

import atletas.models
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Academia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=200)),
                ('cidade', models.CharField(max_length=100)),
                ('estado', models.CharField(max_length=2)),
                ('telefone', models.CharField(blank=True, help_text='Telefone de contato da academia', max_length=20)),
                ('responsavel', models.CharField(blank=True, help_text='Nome do responsável pela academia', max_length=200, verbose_name='Responsável')),
                ('endereco', models.CharField(blank=True, help_text='Endereço da academia (opcional)', max_length=300, verbose_name='Endereço')),
                ('pontos', models.IntegerField(default=0)),
                ('foto_perfil', models.ImageField(blank=True, help_text='Foto de perfil da academia (JPG, PNG)', null=True, upload_to=atletas.models.foto_perfil_academia_upload_path, verbose_name='Foto de Perfil')),
                ('login', models.CharField(blank=True, help_text='[DEPRECADO] Login da academia - não usar mais', max_length=100, null=True, unique=True)),
                ('senha_login', models.CharField(blank=True, help_text='[DEPRECADO] Senha para login - não usar mais', max_length=128)),
                ('ativo_login', models.BooleanField(default=True, help_text='Permite login da academia')),
                ('bonus_percentual', models.DecimalField(blank=True, decimal_places=2, help_text='Percentual de bônus sobre inscrições confirmadas', max_digits=5, null=True, verbose_name='Bônus Percentual (%)')),
                ('bonus_fixo', models.DecimalField(blank=True, decimal_places=2, help_text='Valor fixo de bônus por atleta confirmado', max_digits=10, null=True, verbose_name='Bônus Fixo por Atleta')),
            ],
            options={
                'verbose_name': 'Academia',
                'verbose_name_plural': 'Academias',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='AdminLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_hora', models.DateTimeField(default=django.utils.timezone.now)),
                ('acao', models.CharField(max_length=200)),
                ('usuario_ip', models.GenericIPAddressField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Log Administrativo',
                'verbose_name_plural': 'Logs Administrativos',
                'ordering': ['-data_hora'],
            },
        ),
        migrations.CreateModel(
            name='Campeonato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(default='Campeonato Padrão', max_length=200)),
                ('data_inicio', models.DateField(blank=True, help_text='Data de início das inscrições', null=True)),
                ('data_competicao', models.DateField(blank=True, help_text='Data da competição', null=True)),
                ('data_limite_inscricao', models.DateField(blank=True, help_text='Data limite para inscrições', null=True)),
                ('data_limite_inscricao_academia', models.DateField(blank=True, help_text='Após esta data, academias não poderão mais inscrever ou editar atletas. Apenas a equipe operacional poderá fazer inscrições.', null=True, verbose_name='Data Limite para Inscrições por Academia')),
                ('ativo', models.BooleanField(default=True)),
                ('regulamento', models.TextField(blank=True, help_text='Regulamento do campeonato')),
                ('valor_inscricao_federado', models.DecimalField(blank=True, decimal_places=2, help_text='Valor da inscrição para atletas federados', max_digits=10, null=True)),
                ('valor_inscricao_nao_federado', models.DecimalField(blank=True, decimal_places=2, help_text='Valor da inscrição para atletas não federados', max_digits=10, null=True)),
                ('chave_pix', models.CharField(blank=True, help_text='Chave PIX para pagamento (CPF, CNPJ, Email, Telefone ou Chave Aleatória)', max_length=200, verbose_name='Chave PIX')),
                ('titular_pix', models.CharField(blank=True, help_text='Nome do titular da conta PIX', max_length=200, verbose_name='Titular da Chave PIX')),
            ],
            options={
                'verbose_name': 'Campeonato',
                'verbose_name_plural': 'Campeonatos',
                'ordering': ['-data_inicio', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='CategoriaInsumo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(help_text='Ex: Tatames, Aluguéis, Transportes, etc.', max_length=100, unique=True, verbose_name='Nome da Categoria')),
                ('descricao', models.TextField(blank=True, help_text='Descrição opcional da categoria', verbose_name='Descrição')),
                ('ativo', models.BooleanField(default=True, help_text='Se desativado, não aparecerá nas opções', verbose_name='Ativo')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
            ],
            options={
                'verbose_name': 'Categoria de Insumo',
                'verbose_name_plural': 'Categorias de Insumos',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='Classe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=20, unique=True, verbose_name='Nome da Classe')),
                ('idade_min', models.PositiveIntegerField(verbose_name='Idade Mínima')),
                ('idade_max', models.PositiveIntegerField(verbose_name='Idade Máxima')),
            ],
            options={
                'verbose_name': 'Classe',
                'verbose_name_plural': 'Classes',
                'ordering': ['idade_min'],
            },
        ),
        migrations.CreateModel(
            name='FormaPagamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, verbose_name='Nome')),
                ('tipo', models.CharField(choices=[('PIX', 'PIX'), ('DINHEIRO', 'Dinheiro'), ('CARTAO', 'Cartão'), ('TRANSFERENCIA', 'Transferência Bancária')], max_length=20, verbose_name='Tipo')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
            ],
            options={
                'verbose_name': 'Forma de Pagamento',
                'verbose_name_plural': 'Formas de Pagamento',
                'ordering': ['tipo', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='Organizador',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=255, verbose_name='Nome do Organizador')),
                ('email', models.EmailField(max_length=254, verbose_name='E-mail')),
                ('telefone', models.CharField(blank=True, max_length=30, verbose_name='Telefone')),
                ('logo', models.ImageField(blank=True, help_text='Logo do organizador (JPG, PNG)', null=True, upload_to=atletas.models.logo_organizador_upload_path, verbose_name='Logo')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
            ],
            options={
                'verbose_name': 'Organizador',
                'verbose_name_plural': 'Organizadores',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='Atleta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome Completo')),
                ('ano_nasc', models.IntegerField(blank=True, null=True, verbose_name='Ano de Nascimento')),
                ('data_nascimento', models.DateField(blank=True, null=True, verbose_name='Data de Nascimento')),
                ('sexo', models.CharField(choices=[('M', 'Masculino'), ('F', 'Feminino')], max_length=1, verbose_name='Gênero')),
                ('classe_inicial', models.CharField(blank=True, help_text='Classe base do atleta (calculada automaticamente)', max_length=20, verbose_name='Classe Inicial')),
                ('documento_oficial', models.FileField(blank=True, help_text='Upload de documento de identidade (JPG, PNG ou PDF)', null=True, upload_to=atletas.models.documento_upload_path, verbose_name='Documento Oficial')),
                ('foto_perfil', models.ImageField(blank=True, help_text='Foto de perfil do atleta (JPG, PNG)', null=True, upload_to=atletas.models.foto_perfil_atleta_upload_path, verbose_name='Foto de Perfil')),
                ('status_ativo', models.BooleanField(default=True, help_text='Atleta ativo no sistema', verbose_name='Ativo')),
                ('faixa', models.CharField(blank=True, choices=[('BRANCA', 'Branca'), ('P.CINZA', 'P. Cinza'), ('CINZA', 'Cinza'), ('P.AZUL', 'P. Azul'), ('AZUL', 'Azul'), ('P.AMARELA', 'P. Amarela'), ('AMARELA', 'Amarela'), ('P.LARANJA', 'P. Laranja'), ('LARANJA', 'Laranja'), ('VERDE', 'Verde'), ('ROXA', 'Roxa'), ('MARRON', 'Marrom'), ('PRETA', 'Preta')], help_text='Graduação do atleta', max_length=20, null=True, verbose_name='Faixa')),
                ('federado', models.BooleanField(default=False, verbose_name='Federado')),
                ('numero_zempo', models.CharField(blank=True, help_text='Número Zempo (obrigatório para atletas federados)', max_length=50, null=True, verbose_name='Número Zempo')),
                ('pode_ser_equipe_tecnica', models.BooleanField(default=False, help_text='Permite que esta pessoa seja selecionada para compor a equipe técnica em eventos', verbose_name='Pode Fazer Parte da Equipe Técnica')),
                ('funcao_equipe_tecnica', models.CharField(blank=True, help_text='Função padrão na equipe técnica (ex: Árbitro, Mesário, Coordenador)', max_length=100, null=True, verbose_name='Função/Cargo na Equipe Técnica')),
                ('chave_pix', models.CharField(blank=True, help_text='Chave PIX para pagamento (obrigatório para equipe técnica)', max_length=200, null=True, verbose_name='Chave PIX')),
                ('telefone', models.CharField(blank=True, help_text='Telefone de contato', max_length=20, null=True, verbose_name='Telefone')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Data de Cadastro')),
                ('data_atualizacao', models.DateTimeField(auto_now=True, null=True, verbose_name='Data de Atualização')),
                ('academia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='atletas', to='atletas.academia', verbose_name='Academia')),
            ],
            options={
                'verbose_name': 'Atleta',
                'verbose_name_plural': 'Atletas',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='Chave',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('classe', models.CharField(max_length=20)),
                ('sexo', models.CharField(choices=[('M', 'Masculino'), ('F', 'Feminino')], max_length=1)),
                ('categoria', models.CharField(max_length=100)),
                ('estrutura', models.JSONField(default=dict)),
                ('atletas', models.ManyToManyField(related_name='chaves', to='atletas.atleta')),
                ('campeonato', models.ForeignKey(blank=True, help_text='Campeonato ao qual esta chave pertence', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='chaves', to='atletas.campeonato', verbose_name='Campeonato')),
            ],
            options={
                'verbose_name': 'Chave',
                'verbose_name_plural': 'Chaves',
                'ordering': ['-campeonato__data_competicao', 'classe', 'sexo', 'categoria'],
            },
        ),
        migrations.CreateModel(
            name='Categoria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sexo', models.CharField(choices=[('M', 'Masculino'), ('F', 'Feminino')], max_length=1, verbose_name='Sexo')),
                ('categoria_nome', models.CharField(max_length=50, verbose_name='Nome da Categoria')),
                ('limite_min', models.DecimalField(decimal_places=2, max_digits=6, verbose_name='Limite Mínimo (kg)')),
                ('limite_max', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True, verbose_name='Limite Máximo (kg)')),
                ('label', models.CharField(max_length=80, verbose_name='Label')),
                ('classe', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='categorias', to='atletas.classe', verbose_name='Classe')),
            ],
            options={
                'verbose_name': 'Categoria',
                'verbose_name_plural': 'Categorias',
                'ordering': ['classe__idade_min', 'sexo', 'limite_min'],
            },
        ),
        migrations.CreateModel(
            name='Despesa',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('despesa', 'Despesa'), ('receita', 'Receita')], default='despesa', max_length=20, verbose_name='Tipo')),
                ('categoria', models.CharField(max_length=50, verbose_name='Categoria')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valor')),
                ('status', models.CharField(choices=[('pago', 'Pago/Recebido'), ('pendente', 'Pendente')], default='pendente', max_length=20, verbose_name='Status')),
                ('observacao', models.TextField(blank=True, verbose_name='Observação')),
                ('contato_nome', models.CharField(blank=True, max_length=200, verbose_name='Contato Responsável')),
                ('contato_whatsapp', models.CharField(blank=True, max_length=20, verbose_name='WhatsApp do Contato')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('data_pagamento', models.DateField(blank=True, null=True, verbose_name='Data de Pagamento/Recebimento')),
                ('comprovante_pagamento', models.FileField(blank=True, null=True, upload_to='comprovantes_pagamento/', verbose_name='Comprovante de Pagamento')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='despesas', to='atletas.campeonato', verbose_name='Campeonato')),
            ],
            options={
                'verbose_name': 'Despesa',
                'verbose_name_plural': 'Despesas',
                'ordering': ['-data_cadastro'],
            },
        ),
        migrations.AddField(
            model_name='campeonato',
            name='formas_pagamento',
            field=models.ManyToManyField(blank=True, help_text='Selecione as formas de pagamento aceitas para este evento', to='atletas.formapagamento', verbose_name='Formas de Pagamento Aceitas'),
        ),
        migrations.CreateModel(
            name='Inscricao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('classe_escolhida', models.CharField(max_length=20, verbose_name='Classe Escolhida')),
                ('categoria_escolhida', models.CharField(blank=True, max_length=100, verbose_name='Categoria Escolhida')),
                ('peso', models.FloatField(blank=True, null=True, verbose_name='Peso Oficial (kg)')),
                ('categoria_ajustada', models.CharField(blank=True, max_length=100, verbose_name='Categoria Ajustada')),
                ('motivo_ajuste', models.TextField(blank=True, verbose_name='Motivo do Ajuste')),
                ('remanejado', models.BooleanField(default=False, verbose_name='Remanejado')),
                ('status_inscricao', models.CharField(choices=[('pendente', 'Pendente'), ('confirmado', 'Confirmado'), ('aprovado', 'Aprovado'), ('reprovado', 'Reprovado')], default='pendente', max_length=20, verbose_name='Status da Inscrição')),
                ('data_inscricao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Inscrição')),
                ('data_pesagem', models.DateTimeField(blank=True, null=True, verbose_name='Data da Pesagem')),
                ('atleta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inscricoes', to='atletas.atleta', verbose_name='Atleta')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inscricoes', to='atletas.campeonato', verbose_name='Campeonato')),
            ],
            options={
                'verbose_name': 'Inscrição',
                'verbose_name_plural': 'Inscrições',
                'ordering': ['-data_inscricao'],
                'unique_together': {('atleta', 'campeonato', 'classe_escolhida', 'categoria_escolhida')},
            },
        ),
        migrations.CreateModel(
            name='InsumoEstrutura',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(help_text='Ex: Aluguel de tatames, Transporte de equipamentos, etc.', max_length=200, verbose_name='Nome do Item')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valor (R$)')),
                ('quantidade', models.IntegerField(default=1, help_text='Quantidade de itens ou unidades', verbose_name='Quantidade')),
                ('valor_unitario', models.DecimalField(blank=True, decimal_places=2, help_text='Valor por unidade (calculado automaticamente)', max_digits=10, null=True, verbose_name='Valor Unitário')),
                ('status', models.CharField(choices=[('pago', 'Pago'), ('pendente', 'Pendente')], default='pendente', max_length=20, verbose_name='Status do Pagamento')),
                ('fornecedor', models.CharField(blank=True, help_text='Nome do fornecedor ou empresa', max_length=200, verbose_name='Fornecedor')),
                ('contato_nome', models.CharField(blank=True, max_length=200, verbose_name='Contato Responsável')),
                ('contato_whatsapp', models.CharField(blank=True, max_length=20, verbose_name='WhatsApp do Contato')),
                ('observacao', models.TextField(blank=True, help_text='Observações adicionais sobre o insumo', verbose_name='Observações')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('data_pagamento', models.DateField(blank=True, null=True, verbose_name='Data de Pagamento')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='insumos_estrutura', to='atletas.campeonato', verbose_name='Campeonato')),
                ('categoria', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='insumos', to='atletas.categoriainsumo', verbose_name='Categoria')),
            ],
            options={
                'verbose_name': 'Insumo/Estrutura',
                'verbose_name_plural': 'Insumos e Estrutura',
                'ordering': ['-data_cadastro'],
            },
        ),
        migrations.CreateModel(
            name='Luta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('round', models.IntegerField()),
                ('proxima_luta', models.IntegerField(blank=True, null=True)),
                ('concluida', models.BooleanField(default=False)),
                ('tipo_vitoria', models.CharField(blank=True, choices=[('IPPON', 'Ippon'), ('WAZARI', 'Wazari'), ('WAZARI_WAZARI', 'Wazari-Wazari'), ('YUKO', 'Yuko')], max_length=20)),
                ('pontos_vencedor', models.IntegerField(default=0)),
                ('pontos_perdedor', models.IntegerField(default=0)),
                ('ippon_count', models.IntegerField(default=0)),
                ('wazari_count', models.IntegerField(default=0)),
                ('yuko_count', models.IntegerField(default=0)),
                ('atleta_a', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lutas_como_a', to='atletas.atleta')),
                ('atleta_b', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lutas_como_b', to='atletas.atleta')),
                ('chave', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lutas', to='atletas.chave')),
                ('vencedor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lutas_vencidas', to='atletas.atleta')),
            ],
            options={
                'verbose_name': 'Luta',
                'verbose_name_plural': 'Lutas',
                'ordering': ['chave', 'round', 'id'],
            },
        ),
        migrations.AddField(
            model_name='campeonato',
            name='organizador',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='campeonatos', to='atletas.organizador', verbose_name='Organizador'),
        ),
        migrations.CreateModel(
            name='CadastroOperacional',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('arbitro', 'Árbitro'), ('mesario', 'Mesário'), ('coordenador', 'Coordenador'), ('oficial_pesagem', 'Oficial de Pesagem'), ('oficial_mesa', 'Oficial de Mesa'), ('ambulancia', 'Ambulância'), ('patrocinador', 'Patrocinador'), ('insumo', 'Insumo')], max_length=50, verbose_name='Tipo')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome')),
                ('telefone', models.CharField(blank=True, max_length=20, verbose_name='Telefone')),
                ('observacao', models.TextField(blank=True, verbose_name='Observação')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('organizador', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='cadastros_operacionais', to='atletas.organizador', verbose_name='Organizador')),
            ],
            options={
                'verbose_name': 'Cadastro Operacional',
                'verbose_name_plural': 'Cadastros Operacionais',
                'ordering': ['tipo', 'nome'],
            },
        ),
        migrations.AddField(
            model_name='academia',
            name='organizador',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='academias', to='atletas.organizador', verbose_name='Organizador'),
        ),
        migrations.CreateModel(
            name='PessoaEquipeTecnica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(blank=True, help_text='Nome completo da pessoa (obrigatório se não for atleta)', max_length=200, verbose_name='Nome Completo')),
                ('telefone', models.CharField(blank=True, help_text='Telefone para contato e envio de convites', max_length=20, verbose_name='Telefone/WhatsApp')),
                ('chave_pix', models.CharField(blank=True, help_text='Chave PIX para pagamentos', max_length=200, verbose_name='Chave PIX')),
                ('observacao', models.TextField(blank=True, help_text='Observações gerais sobre esta pessoa', verbose_name='Observações')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('ativo', models.BooleanField(default=True, help_text='Se desativado, não aparecerá nas opções', verbose_name='Ativo')),
                ('atleta', models.ForeignKey(blank=True, help_text='Selecione um atleta cadastrado (opcional)', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='pessoa_equipe_tecnica', to='atletas.atleta', verbose_name='Atleta')),
            ],
            options={
                'verbose_name': 'Pessoa da Equipe Técnica',
                'verbose_name_plural': 'Pessoas da Equipe Técnica',
                'ordering': ['nome'],
                'unique_together': {('atleta',)},
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('academia', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='usuarios_academia', to='atletas.academia')),
                ('organizador', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='usuarios', to='atletas.organizador')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Perfil de Usuário',
                'verbose_name_plural': 'Perfis de Usuário',
            },
        ),
        migrations.CreateModel(
            name='UsuarioOperacional',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('pode_resetar_campeonato', models.BooleanField(default=False, help_text='Permissão para resetar campeonato (apenas usuário principal)', verbose_name='Pode Resetar Campeonato')),
                ('pode_criar_usuarios', models.BooleanField(default=False, help_text='Permissão para criar novos usuários operacionais (apenas usuário principal)', verbose_name='Pode Criar Usuários')),
                ('data_expiracao', models.DateTimeField(blank=True, help_text='Data de expiração do acesso (null = vitalício)', null=True, verbose_name='Data de Expiração')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('senha_alterada', models.BooleanField(default=False, help_text='Indica se o usuário já alterou a senha no primeiro acesso', verbose_name='Senha Alterada')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='usuarios_criados', to=settings.AUTH_USER_MODEL, verbose_name='Criado Por')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='perfil_operacional', to=settings.AUTH_USER_MODEL, verbose_name='Usuário')),
            ],
            options={
                'verbose_name': 'Usuário Operacional',
                'verbose_name_plural': 'Usuários Operacionais',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.CreateModel(
            name='AcademiaPontuacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ouro', models.IntegerField(default=0)),
                ('prata', models.IntegerField(default=0)),
                ('bronze', models.IntegerField(default=0)),
                ('quarto', models.IntegerField(default=0)),
                ('quinto', models.IntegerField(default=0)),
                ('festival', models.IntegerField(default=0)),
                ('remanejamento', models.IntegerField(default=0)),
                ('pontos_totais', models.IntegerField(default=0)),
                ('academia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pontuacoes', to='atletas.academia')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pontuacoes', to='atletas.campeonato')),
            ],
            options={
                'verbose_name': 'Pontuação de Academia',
                'verbose_name_plural': 'Pontuações de Academias',
                'ordering': ['-pontos_totais', 'academia__nome'],
                'unique_together': {('campeonato', 'academia')},
            },
        ),
        migrations.CreateModel(
            name='AcademiaCampeonatoSenha',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('login', models.CharField(blank=True, help_text='Login gerado automaticamente (ex: ACADEMIA_045)', max_length=50, null=True, verbose_name='Login Temporário')),
                ('senha', models.CharField(max_length=128, verbose_name='Senha (criptografada)')),
                ('senha_plana', models.CharField(help_text='Senha em texto plano (apenas para exibição inicial)', max_length=20, verbose_name='Senha Plana')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('data_expiracao', models.DateTimeField(blank=True, help_text='Data de expiração do acesso (5 dias após término do campeonato)', null=True, verbose_name='Data de Expiração')),
                ('enviado_whatsapp', models.BooleanField(default=False, verbose_name='Enviado por WhatsApp')),
                ('data_envio_whatsapp', models.DateTimeField(blank=True, null=True, verbose_name='Data de Envio WhatsApp')),
                ('academia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senhas_campeonatos', to='atletas.academia', verbose_name='Academia')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senhas_academias', to='atletas.campeonato', verbose_name='Campeonato')),
            ],
            options={
                'verbose_name': 'Senha de Academia por Campeonato',
                'verbose_name_plural': 'Senhas de Academias por Campeonato',
                'ordering': ['-data_criacao'],
                'unique_together': {('academia', 'campeonato')},
            },
        ),
        migrations.CreateModel(
            name='AcademiaCampeonato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('permitido', models.BooleanField(default=True, help_text='Se desmarcado, a academia não poderá participar deste campeonato', verbose_name='Permitido no Campeonato')),
                ('data_vinculacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Vinculação')),
                ('academia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vinculos_campeonatos', to='atletas.academia', verbose_name='Academia')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='academias_vinculadas', to='atletas.campeonato', verbose_name='Campeonato')),
            ],
            options={
                'verbose_name': 'Academia no Campeonato',
                'verbose_name_plural': 'Academias nos Campeonatos',
                'ordering': ['academia__nome'],
                'unique_together': {('academia', 'campeonato')},
            },
        ),
        migrations.CreateModel(
            name='ConferenciaPagamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente'), ('CONFIRMADO', 'Confirmado'), ('DIVERGENTE', 'Divergente'), ('NAO_ENCONTRADO', 'Não Encontrado')], default='PENDENTE', max_length=20, verbose_name='Status da Conferência')),
                ('valor_esperado', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valor Esperado')),
                ('valor_recebido', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Valor Recebido')),
                ('comprovante', models.FileField(blank=True, help_text='Comprovante de pagamento enviado pela academia (JPG, PNG, PDF ou HEIC)', null=True, upload_to='comprovantes/%Y/%m/', verbose_name='Comprovante')),
                ('data_conferencia', models.DateTimeField(blank=True, null=True, verbose_name='Data da Conferência')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('quantidade_atletas', models.IntegerField(default=0, verbose_name='Quantidade de Atletas')),
                ('academia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conferencias_pagamento', to='atletas.academia', verbose_name='Academia')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conferencias_pagamento', to='atletas.campeonato', verbose_name='Campeonato')),
                ('conferido_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='conferencias_realizadas', to=settings.AUTH_USER_MODEL, verbose_name='Conferido por')),
            ],
            options={
                'verbose_name': 'Conferência de Pagamento',
                'verbose_name_plural': 'Conferências de Pagamento',
                'ordering': ['-data_conferencia'],
                'unique_together': {('academia', 'campeonato')},
            },
        ),
        migrations.CreateModel(
            name='HistoricoSistema',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_acao', models.CharField(choices=[('INSCRICAO', 'Inscrição'), ('PESAGEM', 'Pesagem'), ('PAGAMENTO', 'Pagamento'), ('CONFERENCIA_PAGAMENTO', 'Conferência de Pagamento'), ('CHAVE', 'Geração de Chave'), ('RESULTADO', 'Registro de Resultado'), ('PONTUACAO', 'Cálculo de Pontuação'), ('ACADEMIA', 'Cadastro/Edição de Academia'), ('ATLETA', 'Cadastro/Edição de Atleta'), ('CAMPEONATO', 'Cadastro/Edição de Campeonato'), ('USUARIO', 'Criação/Edição de Usuário'), ('OUTRO', 'Outro')], max_length=50, verbose_name='Tipo de Ação')),
                ('descricao', models.TextField(verbose_name='Descrição')),
                ('dados_extras', models.JSONField(blank=True, help_text='Dados adicionais em formato JSON', null=True, verbose_name='Dados Extras')),
                ('data_hora', models.DateTimeField(auto_now_add=True, verbose_name='Data e Hora')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='Endereço IP')),
                ('academia', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='historico_acoes', to='atletas.academia', verbose_name='Academia')),
                ('atleta', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='historico_acoes', to='atletas.atleta', verbose_name='Atleta')),
                ('campeonato', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='historico_acoes', to='atletas.campeonato', verbose_name='Campeonato')),
                ('usuario', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='historico_acoes', to=settings.AUTH_USER_MODEL, verbose_name='Usuário')),
            ],
            options={
                'verbose_name': 'Histórico do Sistema',
                'verbose_name_plural': 'Históricos do Sistema',
                'ordering': ['-data_hora'],
                'indexes': [models.Index(fields=['tipo_acao', 'data_hora'], name='atletas_his_tipo_ac_3bf94c_idx'), models.Index(fields=['campeonato', 'data_hora'], name='atletas_his_campeon_31fe18_idx'), models.Index(fields=['usuario', 'data_hora'], name='atletas_his_usuario_6f6467_idx')],
            },
        ),
        migrations.CreateModel(
            name='Ocorrencia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('categoria', models.CharField(choices=[('RELATO_PROFESSOR', 'Relato de Professor'), ('PROBLEMA_PESAGEM', 'Problema em Pesagem'), ('INDISCIPLINA', 'Indisciplina'), ('ACIDENTE', 'Acidente'), ('PROBLEMA_TECNICO', 'Problema Técnico'), ('PROBLEMA_ORGANIZACIONAL', 'Problema Organizacional'), ('RECLAMACAO', 'Reclamação'), ('SUGESTAO', 'Sugestão'), ('OUTRO', 'Outro')], max_length=50, verbose_name='Categoria')),
                ('titulo', models.CharField(max_length=200, verbose_name='Título')),
                ('descricao', models.TextField(verbose_name='Descrição Detalhada')),
                ('prioridade', models.CharField(choices=[('BAIXA', 'Baixa'), ('MEDIA', 'Média'), ('ALTA', 'Alta'), ('URGENTE', 'Urgente')], default='MEDIA', max_length=20, verbose_name='Prioridade')),
                ('status', models.CharField(choices=[('ABERTA', 'Aberta'), ('EM_ANDAMENTO', 'Em Andamento'), ('RESOLVIDA', 'Resolvida'), ('ENCERRADA', 'Encerrada')], default='ABERTA', max_length=20, verbose_name='Status')),
                ('data_ocorrencia', models.DateTimeField(help_text='Data e hora em que o problema ocorreu', verbose_name='Data da Ocorrência')),
                ('data_registro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Registro')),
                ('data_resolucao', models.DateTimeField(blank=True, null=True, verbose_name='Data de Resolução')),
                ('solucao', models.TextField(blank=True, verbose_name='Solução Aplicada')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações Adicionais')),
                ('anexos', models.JSONField(blank=True, help_text='Lista de URLs de arquivos anexados', null=True, verbose_name='Anexos')),
                ('academia', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ocorrencias', to='atletas.academia', verbose_name='Academia')),
                ('atleta', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ocorrencias', to='atletas.atleta', verbose_name='Atleta Envolvido')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ocorrencias', to='atletas.campeonato', verbose_name='Campeonato')),
                ('inscricao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ocorrencias', to='atletas.inscricao', verbose_name='Inscrição Relacionada')),
                ('registrado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ocorrencias_registradas', to=settings.AUTH_USER_MODEL, verbose_name='Registrado por')),
                ('responsavel_resolucao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ocorrencias_responsavel', to=settings.AUTH_USER_MODEL, verbose_name='Responsável pela Resolução')),
            ],
            options={
                'verbose_name': 'Ocorrência',
                'verbose_name_plural': 'Ocorrências',
                'ordering': ['-data_ocorrencia', '-data_registro'],
                'indexes': [models.Index(fields=['campeonato', 'status'], name='atletas_oco_campeon_ee902a_idx'), models.Index(fields=['categoria', 'status'], name='atletas_oco_categor_88ace4_idx'), models.Index(fields=['prioridade', 'status'], name='atletas_oco_priorid_8eae61_idx')],
            },
        ),
        migrations.CreateModel(
            name='Pagamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valor Total')),
                ('comprovante', models.FileField(help_text='Comprovante de pagamento (JPG, PNG, PDF ou HEIC)', upload_to='comprovantes/%Y/%m/', verbose_name='Comprovante')),
                ('data_envio', models.DateTimeField(auto_now_add=True, verbose_name='Data de Envio')),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente Pagamento'), ('AGUARDANDO', 'Aguardando Validação'), ('VALIDADO', 'Validado'), ('REJEITADO', 'Rejeitado')], default='PENDENTE', max_length=20, verbose_name='Status')),
                ('motivo_rejeicao', models.TextField(blank=True, help_text='Motivo da rejeição do pagamento (preenchido pelo operador)', verbose_name='Motivo da Rejeição')),
                ('data_validacao', models.DateTimeField(blank=True, null=True, verbose_name='Data de Validação')),
                ('academia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pagamentos', to='atletas.academia', verbose_name='Academia')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pagamentos', to='atletas.campeonato', verbose_name='Campeonato')),
                ('validado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pagamentos_validados', to=settings.AUTH_USER_MODEL, verbose_name='Validado por')),
            ],
            options={
                'verbose_name': 'Pagamento',
                'verbose_name_plural': 'Pagamentos',
                'ordering': ['-data_envio'],
                'unique_together': {('academia', 'campeonato')},
            },
        ),
        migrations.CreateModel(
            name='PesagemHistorico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('peso_registrado', models.FloatField(verbose_name='Peso Registrado (kg)')),
                ('categoria_ajustada', models.CharField(blank=True, max_length=100, verbose_name='Categoria Ajustada')),
                ('motivo_ajuste', models.TextField(blank=True, verbose_name='Motivo do Ajuste')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('data_hora', models.DateTimeField(auto_now_add=True, verbose_name='Data e Hora da Pesagem')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pesagens_historico', to='atletas.campeonato', verbose_name='Campeonato')),
                ('inscricao', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='historico_pesagens', to='atletas.inscricao', verbose_name='Inscrição')),
                ('pesado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pesagens_realizadas', to=settings.AUTH_USER_MODEL, verbose_name='Pesado por')),
            ],
            options={
                'verbose_name': 'Histórico de Pesagem',
                'verbose_name_plural': 'Históricos de Pesagem',
                'ordering': ['-data_hora'],
                'indexes': [models.Index(fields=['campeonato', '-data_hora'], name='atletas_pes_campeon_3898f1_idx'), models.Index(fields=['inscricao', '-data_hora'], name='atletas_pes_inscric_269db9_idx')],
            },
        ),
        migrations.CreateModel(
            name='EquipeTecnicaCampeonato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('funcao', models.CharField(choices=[('arbitro', 'Árbitro'), ('mesario', 'Mesário'), ('coordenador', 'Coordenador'), ('oficial_pesagem', 'Oficial de Pesagem'), ('oficial_mesa', 'Oficial de Mesa'), ('outro', 'Outro')], help_text='Função específica neste campeonato', max_length=50, verbose_name='Função no Evento')),
                ('funcao_customizada', models.CharField(blank=True, help_text="Se 'Outro', especifique a função", max_length=100, null=True, verbose_name='Função Customizada')),
                ('pro_labore', models.DecimalField(decimal_places=2, default=0, help_text='Valor do pró-labore/salário para esta função (será contabilizado como despesa)', max_digits=10, verbose_name='Pró-Labore')),
                ('observacao', models.TextField(blank=True, help_text='Observações sobre a participação desta pessoa na equipe técnica deste evento', verbose_name='Observação')),
                ('data_vinculacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Vinculação')),
                ('ativo', models.BooleanField(default=True, help_text='Se desativado, a pessoa não faz parte da equipe técnica deste evento', verbose_name='Ativo')),
                ('campeonato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='equipe_tecnica', to='atletas.campeonato', verbose_name='Campeonato')),
                ('despesa_gerada', models.ForeignKey(blank=True, help_text='Despesa gerada automaticamente a partir do pró-labore', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='equipe_tecnica_origem', to='atletas.despesa', verbose_name='Despesa Gerada')),
                ('pessoa', models.ForeignKey(blank=True, help_text='Pessoa da lista fixa de equipe técnica', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='vinculos_campeonatos', to='atletas.pessoaequipetecnica', verbose_name='Pessoa')),
            ],
            options={
                'verbose_name': 'Membro da Equipe Técnica no Campeonato',
                'verbose_name_plural': 'Equipe Técnica nos Campeonatos',
                'ordering': ['campeonato', 'funcao', 'pessoa__nome'],
                'unique_together': {('pessoa', 'campeonato', 'funcao')},
            },
        ),
    ]
