{% load static %}

{% extends 'atletas/administracao/base_admin.html' %}

{% block admin_page_title %}Equipe Técnica{% endblock %}
{% block admin_page_description %}Gerencie árbitros, mesários, oficiais e coordenadores do evento{% endblock %}

{% block admin_content %}
<section class="section-spacing">
    <div class="flex items-center justify-between mb-6" style="flex-wrap: wrap; gap: var(--spacing-4);">
        <div>
            <p class="text-gray-600 mb-2 text-base" style="line-height: 1.6;">Gerencie a equipe técnica do campeonato usando pessoas já cadastradas no sistema.</p>
            {% if campeonato_ativo %}
            <p class="text-sm text-gray-500">Campeonato ativo: <strong>{{ campeonato_ativo.nome }}</strong></p>
            {% else %}
            <p class="text-sm text-warning">Nenhum campeonato ativo. Ative um campeonato para gerenciar a equipe técnica.</p>
            {% endif %}
            <p class="text-sm text-gray-500">Total de pessoas na lista: <strong>{{ total_pessoas }}</strong></p>
        </div>
        <div class="flex gap-3" style="flex-wrap: wrap;">
            <a href="{% url 'administracao_equipe_pessoas_lista' %}" class="btn btn-secondary">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 18px; height: 18px;">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                Lista de Pessoas
            </a>
            {% if campeonato_ativo %}
            <a href="{% url 'administracao_equipe_gerenciar' campeonato_ativo.id %}" class="btn btn-primary">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 18px; height: 18px;">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                Gerenciar Equipe Técnica
            </a>
            {% endif %}
        </div>
    </div>
    
    <div class="grid grid-auto-fit-lg gap-6">
        {% for card in cards %}
            {% include 'atletas/administracao/partials/operacional_card.html' with titulo=card.titulo count=card.quantidade url=card.tipo icon=card.icone campeonato_ativo=campeonato_ativo %}
        {% endfor %}
    </div>
</section>
{% endblock %}

