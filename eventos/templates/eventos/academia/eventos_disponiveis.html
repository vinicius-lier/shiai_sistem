{% extends 'atletas/base.html' %}

{% block title %}Eventos DisponÃ­veis{% endblock %}

{% block content %}
<h1>ğŸ“… Eventos DisponÃ­veis para InscriÃ§Ã£o</h1>

{% if eventos %}
<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; margin-top: 30px;">
    {% for evento in eventos %}
    <div style="background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px; padding: 24px; box-shadow: 0 2px 4px var(--shadow);">
        <h2 style="margin-top: 0; color: var(--primary);">{{ evento.nome }}</h2>
        
        <div style="margin-bottom: 15px;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                <span>ğŸ“…</span>
                <strong>Data:</strong> {{ evento.data_evento|date:"d/m/Y" }}
            </div>
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                <span>ğŸ“</span>
                <strong>Local:</strong> {{ evento.local }}
            </div>
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                <span>â°</span>
                <strong>Prazo:</strong> {{ evento.data_limite_inscricao|date:"d/m/Y" }}
            </div>
            <div style="display: flex; align-items: center; gap: 8px;">
                <span>ğŸ‘¥</span>
                <strong>Inscritos:</strong> {{ evento.total_inscritos }}
            </div>
        </div>
        
        {% if evento.descricao %}
        <p style="color: var(--text-sec); font-size: 14px; margin-bottom: 20px;">{{ evento.descricao|truncatewords:20 }}</p>
        {% endif %}
        
        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <a href="{% url 'eventos:inscrever_atletas' evento.id %}" class="btn" style="flex: 1; text-align: center;">â• Inscrever Atletas</a>
            <a href="{% url 'eventos:meus_inscritos' evento.id %}" class="btn btn-secondary" style="flex: 1; text-align: center;">ğŸ‘¥ Meus Inscritos</a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div style="text-align: center; padding: 60px 20px; background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px; margin-top: 30px;">
    <div style="font-size: 48px; margin-bottom: 20px;">ğŸ“…</div>
    <h2 style="color: var(--text-sec);">Nenhum evento disponÃ­vel no momento</h2>
    <p style="color: var(--text-sec);">Os eventos aparecerÃ£o aqui quando estiverem abertos para inscriÃ§Ã£o.</p>
</div>
{% endif %}
{% endblock %}

