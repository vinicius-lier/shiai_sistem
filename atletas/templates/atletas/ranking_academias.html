{% extends 'atletas/base.html' %}

{% block title %}Ranking de Academias{% endblock %}

{% block content %}
<h1>Ranking de Academias</h1>

<a href="{% url 'calcular_pontuacao' %}" class="btn btn-success">Recalcular PontuaÃ§Ã£o</a>

<div class="table-responsive">
    <table>
        <thead>
            <tr>
                <th>PosiÃ§Ã£o</th>
                <th>Nome</th>
                <th>Cidade</th>
                <th>Estado</th>
                <th>Pontos</th>
            </tr>
        </thead>
        <tbody>
            {% for item in academias %}
            <tr>
                <td><strong>{{ forloop.counter }}Âº</strong></td>
                <td>
                    {% if item.academia.sigla %}[{{ item.academia.sigla }}] {% endif %}{{ item.academia.nome }}
                </td>
                <td>{{ item.academia.cidade }}</td>
                <td>{{ item.academia.estado }}</td>
                <td>
                    <strong style="font-size: 18px;">{{ item.pontos }}</strong>
                    {% if item.ouro > 0 or item.prata > 0 or item.bronze > 0 %}
                    <br>
                    <small style="color: var(--text-sec);">
                        ğŸ¥‡ {{ item.ouro }} ğŸ¥ˆ {{ item.prata }} ğŸ¥‰ {{ item.bronze }}
                    </small>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" style="text-align: center;">Nenhuma academia cadastrada</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
    <h3>Tabela de PontuaÃ§Ã£o</h3>
    <ul style="list-style: none; padding: 0;">
        <li><strong>ğŸ¥‡ Ouro (1Âº lugar):</strong> 10 pontos</li>
        <li><strong>ğŸ¥ˆ Prata (2Âº lugar):</strong> 5 pontos</li>
        <li><strong>ğŸ¥‰ Bronze (3Âº lugar):</strong> 1 ponto (cada)</li>
        <li><strong>ğŸ… Festival:</strong> 1 ponto por atleta inscrito (nÃ£o competem, apenas participam)</li>
        <li style="color: #dc3545;"><strong>âš  Remanejamento:</strong> -1 ponto por atleta remanejado</li>
    </ul>
</div>
{% endblock %}
