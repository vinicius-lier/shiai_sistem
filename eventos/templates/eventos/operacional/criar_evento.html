{% extends 'atletas/base.html' %}

{% block title %}Criar Evento{% endblock %}

{% block content %}
<h1>‚ûï Criar Novo Evento</h1>

<form method="post" style="max-width: 800px;">
    {% csrf_token %}
    
    <div style="background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px; padding: 30px; margin-bottom: 24px;">
        <h2 style="margin-top: 0; margin-bottom: 20px; color: var(--text);">Informa√ß√µes B√°sicas</h2>
        
        <div style="margin-bottom: 20px;">
            <label for="nome">Nome do Evento *</label>
            <input type="text" id="nome" name="nome" required style="width: 100%;">
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="descricao">Descri√ß√£o</label>
            <textarea id="descricao" name="descricao" rows="4" style="width: 100%;"></textarea>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="local">Local *</label>
            <input type="text" id="local" name="local" required style="width: 100%;">
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label for="data_evento">Data do Evento *</label>
                <input type="date" id="data_evento" name="data_evento" required style="width: 100%;">
            </div>
            <div>
                <label for="data_limite_inscricao">Prazo de Inscri√ß√£o *</label>
                <input type="date" id="data_limite_inscricao" name="data_limite_inscricao" required style="width: 100%;">
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label>
                <input type="checkbox" name="ativo" checked>
                Evento ativo
            </label>
        </div>
    </div>
    
    <div style="background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px; padding: 30px; margin-bottom: 24px;">
        <h2 style="margin-top: 0; margin-bottom: 20px; color: var(--text);">Valores de Inscri√ß√£o</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label for="valor_federado">Valor Federado (R$) *</label>
                <input type="number" id="valor_federado" name="valor_federado" step="0.01" min="0" value="0.00" required style="width: 100%;">
                <small style="color: var(--text-sec); display: block; margin-top: 5px;">
                    Valor para atletas com registro na federa√ß√£o
                </small>
            </div>
            <div>
                <label for="valor_nao_federado">Valor N√£o Federado (R$) *</label>
                <input type="number" id="valor_nao_federado" name="valor_nao_federado" step="0.01" min="0" value="0.00" required style="width: 100%;">
                <small style="color: var(--text-sec); display: block; margin-top: 5px;">
                    Valor para atletas sem registro na federa√ß√£o
                </small>
            </div>
        </div>
    </div>
    
    <div style="background: var(--card-bg); border: 1px solid var(--border); border-radius: 8px; padding: 30px; margin-bottom: 24px;">
        <h2 style="margin-top: 0; margin-bottom: 20px; color: var(--text);">Par√¢metros (Opcional)</h2>
        
        <div style="margin-bottom: 20px;">
            <label for="parametros_baseado_em">Copiar par√¢metros de evento anterior:</label>
            <select id="parametros_baseado_em" name="parametros_baseado_em" style="width: 100%;">
                <option value="">Criar par√¢metros do zero</option>
                {% for evento in eventos_anteriores %}
                <option value="{{ evento.id }}">{{ evento.nome }} ({{ evento.data_evento|date:"d/m/Y" }})</option>
                {% endfor %}
            </select>
            <small style="color: var(--text-sec); display: block; margin-top: 5px;">
                Se selecionar um evento, os par√¢metros ser√£o copiados automaticamente. Voc√™ poder√° edit√°-los depois.
            </small>
        </div>
    </div>
    
    <div style="display: flex; gap: 15px;">
        <button type="submit" class="btn">üíæ Criar Evento</button>
        <a href="{% url 'eventos:lista_eventos' %}" class="btn btn-secondary">Cancelar</a>
    </div>
</form>
{% endblock %}

